'use strict';mix_d("BuffetDisclaimersCards__buffet-disclaimers-card:buffet-disclaimers-card__btogQbJM","require exports tslib @c/remote-operations @c/scoped-dom @c/aui-utils @c/metrics".split(" "),function(xa,ia,t,ya,za,L,Aa){function ja(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function Ba(a){if(a&&a.__esModule)return a;var c=Object.create(null);a&&Object.keys(a).forEach(function(b){if("default"!==b){var f=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,f.get?
f:{enumerable:!0,get:function(){return a[b]}})}});c["default"]=a;return c}var Ca=ja(ya),n=ja(za),ka;(function(a){a.BEFORE_FIRST_OPEN="before first open";a.OPEN="open";a.CLOSE="close"})(ka||(ka={}));var la;(function(a){a.RIGHT_OUT_OF_SCREEN="-120%";a.INSIDE_SCREEN="0px"})(la||(la={}));var D;(function(a){a.MOBILE="mobile";a.DESKTOP="desktop"})(D||(D={}));var E;(function(a){a.ATF="ATF";a.BTF="BTF"})(E||(E={}));var K;(function(a){a.GPSR="GPSR";a.ENV="ENV"})(K||(K={}));var M;(function(a){a.Sidesheet="Sidesheet";
a.BTF="BTF"})(M||(M={}));var ma;(function(a){a.FATAL="FATAL";a.ERROR="ERROR";a.WARN="WARN"})(ma||(ma={}));var v;(function(a){a[a.PSI=0]="PSI";a[a.RSP_MANUFACTURER=1]="RSP_MANUFACTURER";a[a.PD=2]="PD";a[a.RED=3]="RED"})(v||(v={}));var k;(function(a){a[a.RSP=0]="RSP";a[a.MANUFACTURER=1]="MANUFACTURER";a[a.PSI=2]="PSI";a[a.PD=3]="PD";a[a.RED=4]="RED"})(k||(k={}));var p;(function(a){a.CLIENT_LOAD="Buffet.Client.Load";a.INGRESS_LINK_CLICK="Buffet.Sidesheet.IngressLinkClick";a.RED_ICON_CLICK="Buffet.Sidesheet.RedIconClick";
a.RED_LINK_CLICK="Buffet.Sidesheet.RedLinkClick";a.SIDESHEET_OPENED="Buffet.Sidesheet.Open";a.SIDESHEET_CLOSED="Buffet.Sidesheet.Close";a.SIDESHEET_DWELL_TIME="Buffet.Sidesheet.DwellTime";a.SIDESHEET_CONTENT_LOADED="Buffet.SdesheetContent.Load";a.SIDESHEET_CONTENT_LOAD_LATENCY="Buffet.SidesheetContent.LoadLatency";a.PSI_PILL_CLICK="Buffet.SidesheetContent.PsiPillClick";a.MANUFACTURER_PILL_CLICK="Buffet.SidesheetContent.ManufacturerPillClick";a.RSP_PILL_CLICK="Buffet.SidesheetContent.RspPillClick";
a.PD_PILL_CLICK="Buffet.SidesheetContent.PdPillClick";a.RED_PILL_CLICK="Buffet.SidesheetContent.RedPillClick";a.PSI_ZOOM_IN_CLICK="Buffet.SidesheetContent.PsiZoomInClick";a.PSI_ZOOM_OUT_CLICK="Buffet.SidesheetContent.PsiZoomOutClick";a.MISSING_ASIN_ERROR="Buffet.MissingAsin.Error";a.MISSING_CRUCIAL_ELEMENTS_ERROR="Buffet.MissingCrucialElements.Error";a.MISSING_GPSR_CONTENT_ERROR="Buffet.MissingGpsrContent.Error";a.MISSING_PD_ELEMENTS_ERROR="Buffet.MissingExpectedPdElements.Error";a.SIDESHEET_OPEN_ERROR=
"Buffet.Sidesheet.Open.Error";a.SIDESHEET_CONTENT_LOAD_ERROR="Buffet.Sidesheet.ContentLoad.Error";a.ALL_AAPI_CALL_FAIL="Buffet.AllAapiCall.FAIL";a.RSP_MANUFACTURER_AAPI_CALL_FAIL="Buffet.RspManufacturerAapiCall.FAIL";a.PSI_AAPI_CALL_FAIL="Buffet.PsiAapiCall.FAIL";a.PD_AAPI_CALL_FAIL="Buffet.PdAapiCall.FAIL";a.RED_AAPI_CALL_FAIL="Buffet.RedAapiCall.FAIL"})(p||(p={}));var na=new Map([[k.RSP,{aapiCallFailMetric:p.RSP_MANUFACTURER_AAPI_CALL_FAIL,pillClickMetric:p.RSP_PILL_CLICK}],[k.MANUFACTURER,{aapiCallFailMetric:p.RSP_MANUFACTURER_AAPI_CALL_FAIL,
pillClickMetric:p.MANUFACTURER_PILL_CLICK}],[k.PSI,{aapiCallFailMetric:p.PSI_AAPI_CALL_FAIL,pillClickMetric:p.PSI_PILL_CLICK}],[k.PD,{aapiCallFailMetric:p.PD_AAPI_CALL_FAIL,pillClickMetric:p.PD_PILL_CLICK}],[k.RED,{aapiCallFailMetric:p.RED_AAPI_CALL_FAIL,pillClickMetric:p.RED_PILL_CLICK}]]),Da=new Map([[k.RSP,v.RSP_MANUFACTURER],[k.MANUFACTURER,v.RSP_MANUFACTURER],[k.PSI,v.PSI],[k.PD,v.PD],[k.RED,v.RED]]),N=function(a,c){a&&!a.classList.contains(c)&&a.classList.add(c)},O=function(a,c){a&&a.classList.contains(c)&&
a.classList.remove(c)},P=function(a){if(!a.every(function(c){return c})||!a.map(function(c){return null===c||void 0===c?void 0:c.id}).every(function(c){return c}))throw Error("Some HTML elements are missing.");},oa=function(a){return{html:a.innerHTML,className:a.className,style:a.style.cssText}},S=function(a,c){a.innerHTML=c.html;a.className=c.className;a.style.cssText=c.style},F;(function(a){a.LANDING_ASIN="buffet-btf-asin";a.OPEN_BUTTON_IMG_DOC_CONT="buffet-sidesheet-ingress";a.DISCLAIMER_CONTENT=
"buffet-disclaimer-content";a.CLOSE_BUTTON="buffet-sidesheet-close";a.DARKENED_BACKGROUND="buffet-darkened-background";a.SIDESHEET_ROOT="buffet-sidesheet-root";a.SIDESHEET="buffet-sidesheet";a.SIDESHEET_CONTENT="buffet-sidesheet-content";a.SIDESHEET_SUB_CONTENT="buffet-sidesheet-sub-content";a.SIDESHEET_CONTENT_BUFFER_SPINNER="buffet-sidesheet-content-spinner";a.SIDESHEET_ERROR_ALERT="buffet-sidesheet-error-alert";a.SIDESHEET_GPSR_PILLS_CONTAINER="buffet-sidesheet-gpsr-pills-container";a.SIDESHEET_ENV_PILLS_CONTAINER=
"buffet-sidesheet-env-pills-container";a.SIDESHEET_RSP_PILL="buffet-sidesheet-rsp-pill";a.SIDESHEET_MANUFACTURER_PILL="buffet-sidesheet-manufacturer-pill";a.SIDESHEET_PSI_PILL="buffet-sidesheet-psi-pill";a.SIDESHEET_RSP_CONTENT="buffet-sidesheet-rsp-content-container";a.SIDESHEET_MANUFACTURER_CONTENT="buffet-sidesheet-manufacturer-content-container";a.SIDESHEET_PSI_CONTENT="buffet-sidesheet-psi-content-container";a.SIDESHEET_PSI_CAROUSEL="buffet-psi-component";a.SIDESHEET_RED_CONTENT="buffet-sidesheet-red-content-container";
a.SIDESHEET_RED_PILL="buffet-product-red-pill";a.SIDESHEET_PD_CONTENT="buffet-sidesheet-product-docs-content-container";a.SIDESHEET_PD_PILL="buffet-product-docs-pill";a.RSP_MANUFACTURER_AAPI_FAIL="buffet-sidesheet-rsp-manufacturer-aapi-fail";a.PSI_AAPI_FAIL="buffet-sidesheet-psi-aapi-fail";a.PD_AAPI_FAIL="buffet-sidesheet-pd-aapi-fail";a.RED_AAPI_FAIL="buffet-sidesheet-mobile-red-aapi-fail";a.SIDESHEET_PD_LINKS_SECTION="product-docs-links";a.SIDESHEET_PD_LINK="product-docs-ingress-";a.SIDESHEET_PD_URL=
"buffet-product-docs-url-";a.SIDESHEET_PD_LIST_SIZE="product-docs-list-size";a.BTF_PD_LINKS_SECTION="product-docs-btf-links";a.BTF_PD_LINK="product-docs-btf-ingress-";a.BTF_PD_URL="buffet-product-docs-btf-url-";a.BTF_PD_LIST_SIZE="product-docs-btf-list-size";a.PRODUCT_DOCS_BTF="product-docs-btf-section";a.GPSR_EXPANDER="buffet-sidesheet-gpsr-expander";a.GPSR_EXPANDER_HEADER="buffet-sidesheet-gpsr-expander-header";a.ENVIRONMENTAL_EXPANDER="buffet-sidesheet-env-expander";a.ENVIRONMENTAL_EXPANDER_HEADER=
"buffet-sidesheet-env-expander-header";a.DYNAMIC_DOCUMENTS_INGRESS="buffet-dynamic-product-docs-ingress-btf";a.DYNAMIC_CONTACTS_INGRESS="buffet-dynamic-contacts-ingress-btf";a.DYNAMIC_IMAGES_INGRESS="buffet-dynamic-images-ingress-btf"})(F||(F={}));var pa;(function(a){a.DE="A1PA6795UKMFR9";a.FR="A13V1IB3VIYZZH";a.IT="APJ6JRA9NG5V4";a.ES="A1RKKUPIHCS9HS";a.NL="A1805IZSGTT6HS";a.SE="A2NODRKZP88ZB9";a.PL="A1C3SOZRARQ6R3";a.BE="AMEN7PMS3EDWL";a.IE="A28R8C7NBKEWEA"})(pa||(pa={}));var aa=function(a,c,b,
f){var d=b.SIDESHEET_PD_LINKS_SECTION,g=b.SIDESHEET_PD_LIST_SIZE,e=b.SIDESHEET_PD_LINK,l=b.SIDESHEET_PD_URL;a===M.BTF&&(d=b.BTF_PD_LINKS_SECTION,g=b.BTF_PD_LIST_SIZE,e=b.BTF_PD_LINK,l=b.BTF_PD_URL);a=n["default"].cardRoot.querySelector("#"+d);g=n["default"].cardRoot.querySelector("#"+g);if(a&&g)for(a=function(h){var q=n["default"].cardRoot.querySelector("#"+e+h);h=n["default"].cardRoot.querySelector("#"+l+h);if(q&&h){var m=h.value;q.addEventListener("click",function(){c?q.setAttribute("href",m):f.openWindow(m,
"ProductDisplay")})}},b=0;b<parseInt(g.value);b++)a(b)},w=function(a,c,b,f){void 0===f&&(f=1);Aa.count(a+"."+c+"."+b,f)},qa=function(a,c,b){if(a){var f=!1,d=a.querySelectorAll("li"),g=a.querySelectorAll("img");d.forEach(function(e,l){e.style.maxWidth="1600px";0===l?e.style.marginLeft="0px":l===d.length-1&&(e.style.marginRight="0px")});g.forEach(function(e){e.addEventListener("click",function(){return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(l){switch(l.label){case 0:return f?
(w(c,b,p.PSI_ZOOM_OUT_CLICK),d.forEach(function(h){h.style.width=""}),g.forEach(function(h){h.style.maxWidth="100%";var q=n["default"].cardRoot.querySelector("#"+h.id+"-zoomed-out").value;h.src=q}),f=!1):(w(c,b,p.PSI_ZOOM_IN_CLICK),d.forEach(function(h){h.style.width="1600px"}),g.forEach(function(h){h.style.maxWidth="1600px";var q=n["default"].cardRoot.querySelector("#"+h.id+"-zoomed-in").value;h.src=q}),f=!0),[4,e.decode()];case 1:return l.sent(),e.scrollIntoView({block:"center",inline:"center"}),
[2]}})})})})}},ba=new Map([[K.ENV,Array.from([k.RED])],[K.GPSR,Array.from([k.PSI,k.MANUFACTURER,k.RSP,k.PD])]]),Ea=function(a){return new Map([[k.RSP,{contentElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_RSP_CONTENT),pillElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_RSP_PILL)}],[k.MANUFACTURER,{contentElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_MANUFACTURER_CONTENT),pillElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_MANUFACTURER_PILL)}],[k.PSI,
{contentElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_PSI_CONTENT),pillElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_PSI_PILL)}],[k.PD,{contentElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_PD_CONTENT),pillElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_PD_PILL)}],[k.RED,{contentElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_RED_CONTENT),pillElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_RED_PILL)}]])},T=function(a){return new Map([[K.GPSR,
{headerElement:n["default"].cardRoot.querySelector("#"+a.GPSR_EXPANDER_HEADER),pillContainerElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_GPSR_PILLS_CONTAINER)}],[K.ENV,{headerElement:n["default"].cardRoot.querySelector("#"+a.ENVIRONMENTAL_EXPANDER_HEADER),pillContainerElement:n["default"].cardRoot.querySelector("#"+a.SIDESHEET_ENV_PILLS_CONTAINER)}]])},Fa=function(a,c){var b,f=new Set;try{for(var d=t.__values(c),g=d.next();!g.done;g=d.next()){var e=Q(g.value),l=a.get(e).pillContainerElement;
l&&f.add(l)}}catch(q){var h={error:q}}finally{try{g&&!g.done&&(b=d.return)&&b.call(d)}finally{if(h)throw h.error;}}return f},Ga=function(a,c){switch(c){case k.RSP:case k.MANUFACTURER:return a.RSP_MANUFACTURER_AAPI_FAIL;case k.PSI:return a.PSI_AAPI_FAIL;case k.PD:return a.PD_AAPI_FAIL;case k.RED:return a.RED_AAPI_FAIL}},Ha=function(a){switch(a){case k.RSP:case k.MANUFACTURER:return v.RSP_MANUFACTURER;case k.PSI:return v.PSI;case k.PD:return v.PD;case k.RED:return v.RED}},Ia=function(a,c){a.forEach(function(b,
f){b.contentElement&&b.pillElement||(a.delete(f),c.delete(Ha(f)))})},Ja=function(a,c){var b;a=new Map(a);try{for(var f=t.__values(a.keys()),d=f.next();!d.done;d=f.next()){var g=d.value;c.has(g)||a.delete(g)}}catch(l){var e={error:l}}finally{try{d&&!d.done&&(b=f.return)&&b.call(f)}finally{if(e)throw e.error;}}return a},Q=function(a){var c;try{for(var b=t.__values(ba.keys()),f=b.next();!f.done;f=b.next()){var d=f.value;if(ba.get(d).includes(a))return d}}catch(e){var g={error:e}}finally{try{f&&!f.done&&
(c=b.return)&&c.call(b)}finally{if(g)throw g.error;}}throw Error("Content type not found in Expanders-ContentType mapping!");},Ka=function(a,c){var b,f;try{for(var d=t.__values(a.keys()),g=d.next();!g.done;g=d.next()){var e=g.value,l=a.get(e).pillElement,h=Q(e),q=null===(f=c.get(h))||void 0===f?void 0:f.pillContainerElement;l&&q&&l.addEventListener("click",ra(l,q))}}catch(y){var m={error:y}}finally{try{g&&!g.done&&(b=d.return)&&b.call(d)}finally{if(m)throw m.error;}}},ra=function(a,c){return function(){var b=
c.offsetWidth,f=c.scrollWidth,d=a.offsetLeft-b/2+a.offsetWidth/2;0>d?d=0:d+b>f&&(d=f-b);c.scroll({behavior:"smooth",left:d})}},sa=function(a,c,b){var f;void 0===b&&(b=!1);var d=Q(a);try{for(var g=t.__values(c.keys()),e=g.next();!e.done;e=g.next()){var l=e.value,h=c.get(l),q=Q(l);if(q===d)if(l===a){var m=h;N(m.pillElement,"a-button-selected");O(m.contentElement,"aok-hidden")}else m=h,O(m.pillElement,"a-button-selected"),N(m.contentElement,"aok-hidden");else if(b){m=l;a:{var y=void 0,r=void 0,x=new Set(c.keys()),
A=ba.get(q);if(A){try{for(var G=t.__values(A),B=G.next();!B.done;B=G.next()){var I=B.value;if(x.has(I)){var C=I;break a}}}catch(H){r={error:H}}finally{try{B&&!B.done&&(y=G.return)&&y.call(G)}finally{if(r)throw r.error;}}C=null}else throw Error("Expander must be defined in Expander-ContentType mapping!");}m===C?(m=h,N(m.pillElement,"a-button-selected"),O(m.contentElement,"aok-hidden")):(m=h,O(m.pillElement,"a-button-selected"),N(m.contentElement,"aok-hidden"))}}}catch(H){var u={error:H}}finally{try{e&&
!e.done&&(f=g.return)&&f.call(g)}finally{if(u)throw u.error;}}},ta=function(a){var c,b;try{for(var f=t.__values(Object.values(K)),d=f.next();!d.done;d=f.next()){var g=d.value,e=null===(b=T(a).get(g))||void 0===b?void 0:b.headerElement,l=null===e||void 0===e?void 0:e.getAttribute("aria-expanded");e&&"true"===l&&e.click()}}catch(q){var h={error:q}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(h)throw h.error;}}},ca,da,J=new Set(Object.values(v).filter(function(a){return"number"===typeof a})),
z,La=Object.keys(v).length/2,Qa=function(a,c,b,f,d,g,e,l,h,q,m){return t.__awaiter(void 0,void 0,void 0,function(){var y,r,x,A,G,B,I;return t.__generator(this,function(C){switch(C.label){case 0:y=Date.now();r=n["default"].cardRoot.querySelector("#"+e.SIDESHEET_CONTENT);x=n["default"].cardRoot.querySelector("#"+e.SIDESHEET_CONTENT_BUFFER_SPINNER);A=n["default"].cardRoot.querySelector("#"+e.SIDESHEET_ERROR_ALERT);G=[r,x,A];try{P(G)}catch(u){throw w(D.DESKTOP,E.BTF,p.MISSING_CRUCIAL_ELEMENTS_ERROR),
Error();}a&&(ca=oa(x),da=oa(r));if(c)return[3,5];C.label=1;case 1:return C.trys.push([1,3,,4]),S(x,ca),S(r,da),B=n["default"].cardRoot.querySelector("#"+e.SIDESHEET_SUB_CONTENT),z=Ea(e),I=T(e),Ma(B,I,z,b,d),Ia(z,J),Ka(z,I),Na(b,d),[4,Oa(g,e,l,b,d,f,m)];case 2:C.sent();if(J.size===La)throw w(b,d,p.ALL_AAPI_CALL_FAIL),Error();x.style.opacity="0";w(b,d,p.SIDESHEET_CONTENT_LOAD_LATENCY,Date.now()-y);L.delay(function(){N(x,"aok-hidden");O(B,"aok-hidden");r.style.opacity="1"},200);c=!0;return[3,4];case 3:return C.sent(),
w(b,d,p.SIDESHEET_CONTENT_LOAD_ERROR),S(x,ca),S(r,da),O(A,"aok-hidden"),x.style.opacity="0",L.delay(function(){N(x,"aok-hidden");r.style.opacity="1"},200),[3,4];case 4:return[3,6];case 5:0!==J.size&&J.forEach(function(u){return t.__awaiter(void 0,void 0,void 0,function(){var H,ea,U,ua,V,va,wa,W,X,fa,Y,ha,Z;return t.__generator(this,function(R){switch(R.label){case 0:H=u;switch(H){case v.PSI:return[3,1];case v.RSP_MANUFACTURER:return[3,3];case v.PD:return[3,5];case v.RED:return[3,7]}return[3,9];case 1:return[4,
g.getPsiContent({asin:l})];case 2:return(ea=R.sent())&&"false"===ea.querySelector("#"+e.PSI_AAPI_FAIL).value?(J.delete(v.PSI),U=z.get(k.PSI).contentElement,U.style.opacity="0",L.delay(function(){U.innerHTML=ea.outerHTML;U.style.opacity="1"},500),ua=n["default"].cardRoot.querySelector("#"+e.SIDESHEET_PSI_CAROUSEL),qa(ua,b,d)):w(b,d,p.PSI_AAPI_CALL_FAIL),[3,9];case 3:return[4,g.getRspManufacturerContent({asin:l})];case 4:return(V=R.sent())&&"false"===V.querySelector("#"+e.RSP_MANUFACTURER_AAPI_FAIL).value?
(J.delete(v.RSP_MANUFACTURER),va=V.querySelector("#"+e.SIDESHEET_RSP_CONTENT),wa=V.querySelector("#"+e.SIDESHEET_MANUFACTURER_CONTENT),W=z.get(k.RSP).contentElement,X=z.get(k.MANUFACTURER).contentElement,W.style.opacity="0",X.style.opacity="0",L.delay(function(){W.innerHTML=va.innerHTML;X.innerHTML=wa.innerHTML;W.style.opacity="1";X.style.opacity="1"},500)):w(b,d,p.RSP_MANUFACTURER_AAPI_CALL_FAIL),[3,9];case 5:return[4,g.getPdContent({asin:l})];case 6:return(fa=R.sent())&&"false"===fa.querySelector("#"+
e.PD_AAPI_FAIL).value?(J.delete(v.PD),Y=z.get(k.PD).contentElement,Y.style.opacity="0",L.delay(function(){Y.innerHTML=fa.innerHTML;aa(M.Sidesheet,f,e,m);Y.style.opacity="1"},500)):w(b,d,p.PD_AAPI_CALL_FAIL),[3,9];case 7:return[4,g.getRedContent({asin:l})];case 8:return(ha=R.sent())&&"false"===ha.querySelector("#"+e.RED_AAPI_FAIL).value?(J.delete(v.RED),Z=z.get(k.RED).contentElement,Z.style.opacity="0",L.delay(function(){Z.innerHTML=ha.innerHTML;Z.style.opacity="1"},500)):w(b,d,p.RED_AAPI_CALL_FAIL),
[3,9];case 9:return[2]}})})}),C.label=6;case 6:return Pa(e,h,a,q),a=!1,[2,[a,c]]}})})},Na=function(a,c){var b,f,d=function(h){null===(f=z.get(h))||void 0===f?void 0:f.pillElement.addEventListener("click",function(){sa(h,z);w(a,c,na.get(h).pillClickMetric)})};try{for(var g=t.__values(z.keys()),e=g.next();!e.done;e=g.next())d(e.value)}catch(h){var l={error:h}}finally{try{e&&!e.done&&(b=g.return)&&b.call(g)}finally{if(l)throw l.error;}}},Oa=function(a,c,b,f,d,g,e){return t.__awaiter(void 0,void 0,void 0,
function(){var l,h,q,m,y,r,x,A,G,B,I,C;return t.__generator(this,function(u){switch(u.label){case 0:l=null,u.label=1;case 1:u.trys.push([1,23,24,25]),h=t.__values(z.keys()),q=h.next(),u.label=2;case 2:if(q.done)return[3,22];m=q.value;y=z.get(m);r=void 0;x=m;switch(x){case k.PSI:return[3,3];case k.MANUFACTURER:return[3,5];case k.RSP:return[3,5];case k.PD:return[3,8];case k.RED:return[3,10]}return[3,12];case 3:return[4,a.getPsiContent({asin:b})];case 4:return r=u.sent(),[3,12];case 5:return null!==
l?[3,7]:[4,a.getRspManufacturerContent({asin:b})];case 6:l=u.sent(),u.label=7;case 7:return r=l,[3,12];case 8:return[4,a.getPdContent({asin:b})];case 9:return r=u.sent(),[3,12];case 10:return[4,a.getRedContent({asin:b})];case 11:return r=u.sent(),[3,12];case 12:if(!r||!y.contentElement||"false"!==(null===(C=r.querySelector("#"+Ga(c,m)))||void 0===C?void 0:C.value))return[3,20];J.delete(Da.get(m));A=m;switch(A){case k.PSI:return[3,13];case k.RSP:return[3,14];case k.MANUFACTURER:return[3,15];case k.PD:return[3,
16];case k.RED:return[3,18]}return[3,19];case 13:return y.contentElement.innerHTML=r.outerHTML,u=n["default"].cardRoot.querySelector("#"+c.SIDESHEET_PSI_CAROUSEL),qa(u,f,d),[3,19];case 14:u=y;var H=r.querySelector("#"+c.SIDESHEET_RSP_CONTENT);u.contentElement.innerHTML=H.innerHTML;return[3,19];case 15:return u=y,H=r.querySelector("#"+c.SIDESHEET_MANUFACTURER_CONTENT),u.contentElement.innerHTML=H.innerHTML,[3,19];case 16:return[4,Ra(y,r,c,g,e)];case 17:return u.sent(),[3,19];case 18:return y.contentElement.innerHTML=
r.outerHTML,[3,19];case 19:return[3,21];case 20:w(f,d,na.get(m).aapiCallFailMetric),u.label=21;case 21:return q=h.next(),[3,2];case 22:return[3,25];case 23:return G=u.sent(),B={error:G},[3,25];case 24:try{q&&!q.done&&(I=h.return)&&I.call(h)}finally{if(B)throw B.error;}return[7];case 25:return[2]}})})},Ra=function(a,c,b,f,d){return t.__awaiter(void 0,void 0,void 0,function(){return t.__generator(this,function(g){a.contentElement.innerHTML=c.outerHTML;aa(M.Sidesheet,f,b,d);return[2]})})},Ma=function(a,
c,b,f,d){var g=new Set([k.RSP,k.PSI,k.MANUFACTURER]);b=Array.from(Ja(b,g).values());c=Array.from(Fa(c,new Set(b.keys())).values());g=b.map(function(e){return e.pillElement});b=b.map(function(e){return e.contentElement});try{P([a]),P(c),P(g),P(b)}catch(e){throw w(f,d,p.MISSING_GPSR_CONTENT_ERROR),Error();}},Pa=function(a,c,b,f){var d,g,e=Q(c);ta(a);var l,h=null===(l=T(a).get(e))||void 0===l?void 0:l.headerElement;l=null===h||void 0===h?void 0:h.getAttribute("aria-expanded");h&&"false"===l&&h.click();
if(b||f)sa(c,z),c=null===(d=z.get(c))||void 0===d?void 0:d.pillElement,a=null===(g=T(a).get(e))||void 0===g?void 0:g.pillContainerElement,c&&a&&ra(c,a)()};ia._operationNames=[];ia.card=function(){return t.__awaiter(void 0,void 0,void 0,function(){var a,c,b,f,d,g,e,l,h,q,m;return t.__generator(this,function(y){switch(y.label){case 0:w(D.DESKTOP,E.BTF,p.CLIENT_LOAD);a=n["default"].cardRoot.querySelector("#"+F.LANDING_ASIN);if(!a||!a.value)return w(D.DESKTOP,E.BTF,p.MISSING_ASIN_ERROR),[2];c=n["default"].cardRoot.querySelector("#"+
F.OPEN_BUTTON_IMG_DOC_CONT);b=n["default"].cardRoot.querySelector("#"+F.DARKENED_BACKGROUND);f=n["default"].cardRoot.querySelector("#"+F.CLOSE_BUTTON);d=[c,b,f];try{P(d)}catch(r){return w(D.DESKTOP,E.BTF,p.MISSING_CRUCIAL_ELEMENTS_ERROR),[2]}return[4,new Promise(function(r,x){xa(["@p/buffet-sidesheet"],function(A){r(Ba(A))},x)})];case 1:return g=y.sent().default,n["default"].cardRoot.querySelector("#"+F.PRODUCT_DOCS_BTF)&&aa(M.BTF,!1,F,g),e=Ca["default"].setup(["getRspManufacturerContent","getPsiContent",
"getPdContent"]),l=!0,h=!1,c.addEventListener("click",function(r){return t.__awaiter(void 0,void 0,void 0,function(){var x;return t.__generator(this,function(A){switch(A.label){case 0:return r.preventDefault(),w(D.DESKTOP,E.BTF,p.INGRESS_LINK_CLICK),g.showSidesheet(),w(D.DESKTOP,E.BTF,p.SIDESHEET_OPENED),[4,Qa(l,h,D.DESKTOP,!1,E.BTF,e,F,a.value,k.PSI,!1,g)];case 1:x=t.__read.apply(void 0,[A.sent(),2]);l=x[0];if(h=x[1])w(D.DESKTOP,E.BTF,p.SIDESHEET_CONTENT_LOADED),q=Date.now();return[2]}})})}),m=function(){g.closeSidesheet();
ta(F);w(D.DESKTOP,E.BTF,p.SIDESHEET_CLOSED);h&&w(D.DESKTOP,E.BTF,p.SIDESHEET_DWELL_TIME,Date.now()-q)},f.addEventListener("click",function(){m()}),b.addEventListener("click",function(){m()}),[2]}})})}});
